<!DOCTYPE html>
<html lang="de">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
</head>
<body>
    <div class="header">Turnverein St. Ingbert</div>

    <div class="menu" onclick="toggleMenu()">â˜°</div>
    <ul class="menu-list" id="menuList">
      
        <li onclick="Start()">Schichtplan</li>
        
    </ul>

    <h1>Veranstaltungen</h1>
    <table id="Veranstaltungen">
        <div id="live">
           <tr>
            <th><b>Veranstaltung</b></th>
            <th><b>Eingeschrieben</b></th>
            </tr>  
        </div>
    </table>


    <button onclick="Anlegen()" id="login"><b>Veranstaltung Anlegen</b></button>



    <script>


        window.onload = function () {
            fetch("http://localhost:8080/shifts/getEvents")
                .then(res => res.json())
                
                .then(data => {
                    const Veranstaltunge_anzeigen = document.getElementById("Veranstaltungen");
                    
                    const heute = new Date().toISOString().split("T")[0];
                    data.forEach(event => {
                        const name = event.eventName;

                        let max = 0 ;//max anzahl personen
                        let eingeschrieben  =0; //wie viele sich eingeschriben haben

                        const row = document.createElement("tr");
                        row.innerHTML =`
                            <td>${name}</td>
                         `;

                         Veranstaltunge_anzeigen.appendChild(row);
                    });
                })
                .catch(err=> {
                    console.error("Fehler beim Laden der Seite:",err);
                })
        }

        function toggleMenu() {
            const menu = document.getElementById('menuList');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function Start(){

            window.location.href="Seite.html"

            }


        function Anlegen(){


            window.location.href="Veranstaltung_anlegen.html"
        }
    </script>
    
</body>