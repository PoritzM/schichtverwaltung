<!DOCTYPE html>
<html lang="de">

<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
</head>

<body>
    <div class="header">Turnverein St. Ingbert</div>

    <div class="menu" onclick="toggleMenu()">â˜°</div>
    <ul class="menu-list" id="menuList">

        <li onclick="Start()">Schichtplan</li>

    </ul>


    <h1>Aktuelle Veranstaltung</h1>
    <table id="Veranstaltung_live">
        <div id="live">
            <tr>
                <th><b>Veranstaltung</b></th>
                <th><b>Eingeschrieben</b></th>
            </tr>
        </div>

    </table>

    <h1>Vergangene Veranstaltung</h1>
    <table id="Veranstaltung_dead">
        <div id="dead">
            <tr>
                <th><b>Veranstaltung</b></th>
                <th><b>Eingeschrieben</b></th>
            </tr>
        </div>

    </table>


    <a href="Login_site.html">
        <button id="Schichtverwaltung"><b>Schichtverwaltung</b></button>
    </a>

    <script>

        window.onload = function () {

            let heute = new Date();

            fetch("http://localhost:8080/shifts/getEvents")
                .then(res => res.json())
                .then(data => {
                    const live = document.getElementById("Veranstaltung_live");
                    const dead = document.getElementById("Veranstaltung_dead");


                    data.forEach(event => {
                        const name = event.eventName;

                        let max = 0;//max anzahl personen
                        let eingeschrieben = 0; //wie viele sich eingeschriben haben
                        let event_id = event.eventID;
                        const row = document.createElement("tr");

                        row.innerHTML = `
                            <td>${name}</td>
                         `;

                      
                        if (date >= heute) {
                            live.appendChild(row);
                        }
                        else {
                            dead.appendChild(row);
                        }


                    });
                })

                .catch(err => {
                    console.error("Fehler beim Laden der Seite:", err);
                })
        }



        function toggleMenu() {
            const menu = document.getElementById('menuList');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function Start() {

            window.location.href = "Seite.html"

        }






    </script>
</body>

</html>