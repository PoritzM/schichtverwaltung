<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Kalender Website</title>
	<link rel="stylesheet" href="style.css">
    
</head>
<body>
    <div class="header">Turnverein St. Ingbert</div>

    <div class="menu" onclick="toggleMenu()">â˜°</div>
    <ul class="menu-list" id="menuList">
        <li>Schichtplan</li>

    </ul>
	<h3>Anmeldung</h3>
	<div id= "Formular">
	<input type="text" placeholder="Benutzername" id="name">
	<input type="password" placeholder= "Passwort" id="pw" >
	</div>
	<button id="login" onclick="login()"><b>Anmelden</b></button>
	<script>
        function toggleMenu() {
            const menu = document.getElementById('menuList');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function Start(){

			window.location.href="Seite.html"

}
		async function hash(password) {
            const encoder = new TextEncoder();
            const data = encoder.encode(password);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            return Array.from(new Uint8Array(hashBuffer))
                .map(byte => byte.toString(16).padStart(2, '0'))
                .join('');
        }
		async function login(){
			const eingegebenes_passwort = document.getElementById('pw').value;
			const real_passwort = "richtig"; 																
			const stored_hash = await hash(real_passwort);
			const eingegebener_hash = await hash(eingegebenes_passwort);
			if(stored_hash == eingegebener_hash){
				window.location.href = "Schichtverwaltung.html"
			}else{
				alert("Falsches Passwort oder Falscher Benutzername");
				document.getElementById('name').value = "";
				document.getElementById('pw').value = "";
			}
			
		}
		
    </script>
</body>
</html>
